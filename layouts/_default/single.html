{{ define "main" }} {{ if eq .Type "blog" }}{{ if not .Params.menu }}
<!-- data-pagefind-XYZ tags allows only certain elements of the blog to be indexed by pagefind -->
<!-- https://gluer.org/blog/adding-a-search-bar-for-hugo-with-pagefind/ -->
<h1 data-pagefind-meta="title">{{ .Title }}</h1>
<p>
  <i>
    <time
      data-pagefind-meta="date[datetime]"
      datetime='{{ .Date.Format "2006-01-02" }}'
    >
      {{ .Date.Format (default "02 Jan, 2006" .Site.Params.dateFormat) }}
    </time>
  </i>
</p>

<div class="toc-container">
  <details>
    <summary>Table of Contents</summary>
    {{ .TableOfContents }}
  </details>
</div>
{{ end }}{{ end }}
<content data-pagefind-body> {{ .Content }} </content>

{{ if eq .Type "blog" }}{{ if (.Param "enablePostNavigator")}} {{- partial
"post_navigator.html" . -}} {{ end }}{{ end }}

<p>
  {{ range (.GetTerms "tags") }}
  <a href="{{ .Permalink }}">#{{ .LinkTitle }}</a>
  {{ end }}
</p>

<p>Did this post help you?</p>

<a href="https://ko-fi.com/E1E11KTJA6" target="_blank">
  <img
    src="{{ `support_me_on_kofi_dark.png` | relURL }}"
    alt="Buy Me A Coffee"
    style="width: 188px; height: auto"
  />
</a>

{{ end }}
